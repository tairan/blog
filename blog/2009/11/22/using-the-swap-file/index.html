
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>在linux上使用swap文件 - Tairan's Story</title>
  <meta name="author" content="Tairan">

  
  <meta name="description" content="作为个人用户，为swap分一个磁盘分区有些浪费，其实我们可以使用swap file来替代swap 分区，而且还可以很方便的调整swap file文件的大小。 To add a swap file: 1. Determine the size of the new swap file and &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://tairan.github.com/blog/2009/11/22/using-the-swap-file">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Tairan's Story" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Tairan's Story</a></h1>
  
    <h2>「知之真切笃实处即是行，行之明觉精察处即是知，知行工夫不可离。」</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:tairan.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">在linux上使用swap文件</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-22T00:00:00+08:00" pubdate data-updated="true">Nov 22<span>nd</span>, 2009</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>作为个人用户，为swap分一个磁盘分区有些浪费，其实我们可以使用swap file来替代swap 分区，而且还可以很方便的调整swap file文件的大小。</p>

<blockquote> <strong>To add a swap file:</strong>

   1.  Determine the size of the new swap file and multiple by 1024 to determine the block size. For example, the block size of a 64 MB swap file is 65536.

   2.  At a shell prompt as root, type the following command with count being equal to the desired block size:
<pre lang="bash">
      dd if=/dev/zero of=/swapfile bs=1024 count=65536
</pre>
   3.  Setup the swap file with the command:
<pre lang="bash">
      mkswap /swapfile
</pre>
   4. To enable the swap file immediately but not automatically at boot time:
<pre lang="bash">
      swapon /swapfile
</pre>
   5.  To enable it at boot time, edit <em>/etc/fstab</em> to include:
<pre lang="bash">
      /swapfile               swap                    swap    defaults        0 0
</pre>
      The next time the system boots, it will enable the new swap file.

   6. After adding the new swap file and enabling it, make sure it is enabled by viewing the output of the command cat <em>/proc/swaps</em> or free. 
</blockquote>


<p>参考:</p>

<pre><code> &lt;a href="http://www.redhat.com/docs/manuals/linux/RHL-8.0-Manual/custom-guide/s1-swap-adding.html" target="_blank"&gt;RHL-8.0-Manual&lt;/a&gt;
</code></pre>

<p>EOF</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Tairan</span></span>

      








  


<time datetime="2009-11-22T00:00:00+08:00" pubdate data-updated="true">Nov 22<span>nd</span>, 2009</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://tairan.github.com/blog/2009/11/22/using-the-swap-file/" data-via="" data-counturl="http://tairan.github.com/blog/2009/11/22/using-the-swap-file/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2009/11/16/storage-on-cloud/" title="Previous Post: 云存储">&laquo; 云存储</a>
      
      
        <a class="basic-alignment right" href="/blog/2009/11/23/setup-drupal/" title="Next Post: Drupal">Drupal &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2011/12/02/kindle-3-for-me/">我的 Kindle 3</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/06/28/dev-for-custom-software/">独立程序员接定制软件开发项目总结</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/06/20/install-flashplayer-64bit-for-fedora-15/">为Fedora 15安装64位的FlashPlayer - Update</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/04/14/move-on-amazon-ec2/">转战亚马逊EC2</a>
      </li>
    
      <li class="post">
        <a href="/blog/2011/03/30/follow-the-right-way/">守规矩才能行的方便</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/tairan">@tairan</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'tairan',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Tairan -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'tairan';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
